<!doctype html> <html lang="en" class="no-js"> <head> <meta charset="utf-8"> <title>How to Use asdf Version Manager on macOS | Peaceful Revolution</title> <meta name="description" content="Discover a fantastic version manager for programming languages"> <meta name="author" content="Qing Wu"> <meta property="article:author" content="Qing Wu"> <meta property="og:type" content="article"> <meta property="og:locale" content="en_GB"> <meta property="og:site_name" content="Peaceful Revolution"> <meta property="og:title" content="How to Use asdf Version Manager on macOS"> <meta property="og:url" content="https://www.wiserfirst.com/blog/how-to-use-asdf-on-macos/"> <meta property="og:description" content="Discover a fantastic version manager for programming languages"> <meta property="og:image" content="https://www.wiserfirst.com/assets/images/2021-05-15/coding_1440_400.jpg"> <meta name="twitter:site" content="@wiserfirst"> <meta name="twitter:title" content="How to Use asdf Version Manager on macOS"> <meta name="twitter:description" content="Discover a fantastic version manager for programming languages"> <meta name="twitter:url" content="https://www.wiserfirst.com/blog/how-to-use-asdf-on-macos/"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://www.wiserfirst.com/assets/images/2021-05-15/coding_1440_400.jpg"> <meta name="twitter:creator" content="@wiserfirst"> <meta property="article:published_time" content="2021-05-15T19:35:00+10:00"> <meta property="article:modified_time" content="2021-05-17T21:23:00+10:00"> <link rel="canonical" href="https://www.wiserfirst.com/blog/how-to-use-asdf-on-macos/"> <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Qing Wu",
      "url": "https://www.wiserfirst.com/"
    
  }
</script> <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Peaceful Revolution Feed"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <script>document.documentElement.className=document.documentElement.className.replace(/\bno-js\b/g,"")+" js ";</script> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"> <!--[if IE]><style>.greedy-nav .site-title{padding-right:3em}.greedy-nav button{position:absolute;top:0;right:0;height:100%}</style><![endif]--> </head> <body class="layout--single wide"> <nav class="skip-links"> <h2 class="screen-reader-text">Skip links</h2> <ul> <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li> <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li> <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li> </ul> </nav> <!--[if lt IE 9]><div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]--> <div class="masthead"> <div class="masthead__inner-wrap"> <div class="masthead__menu"> <nav id="site-nav" class="greedy-nav"> <a class="site-title" href="/"> Peaceful Revolution </a> <ul class="visible-links"></ul> <button class="search__toggle" type="button"> <span class="visually-hidden">Toggle search</span> <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 15.99 16"> <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path> </svg> </button> <button class="greedy-nav__toggle hidden" type="button"> <span class="visually-hidden">Toggle menu</span> <div class="navicon"></div> </button> <ul class="hidden-links hidden"></ul> </nav> </div> </div> </div> <div class="initial-content"> <div class="page__hero--overlay" style=" background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('/assets/images/2021-05-15/coding_1440_400.jpg');"> <div class="wrapper"> <h1 id="page-title" class="page__title" itemprop="headline"> How to Use asdf Version Manager on macOS </h1> <p class="page__lead">Discover a fantastic version manager for programming languages </p> <p class="page__meta"> <span class="page__meta-date"> <i class="far fa-calendar-alt" aria-hidden="true"></i> <time datetime="2021-05-15T19:35:00+10:00">May 15, 2021</time> </span> <span class="page__meta-sep"></span> <span class="page__meta-readtime"> <i class="far fa-clock" aria-hidden="true"></i> 12 minute read </span> </p> </div> <span class="page__hero-caption">Image by <a href="https://unsplash.com/@rezanamdari?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Reza Namdari</a> from <a href="https://unsplash.com/s/photos/programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a> </span> </div> <div id="main" role="main"> <div class="sidebar sticky"> <div itemscope itemtype="https://schema.org/Person"> <div class="author__avatar"> <a href="/"> <img src="https://s.gravatar.com/avatar/f9dbde9c6042a54fde3da7ef83ef4bd9" alt="Qing Wu" itemprop="image"> </a> </div> <div class="author__content"> <a href="/"><h3 class="author__name" itemprop="name">Qing Wu</h3></a> <div class="author__bio" itemprop="description"> <p>Developer ❤️ Functional Programming</p> </div> </div> <div class="author__urls-wrapper"> <button class="btn btn--inverse">Follow</button> <ul class="author__urls social-icons"> <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place"> <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Sydney, Australia</span> </li> <li> <a href="https://www.wiserfirst.com" itemprop="url"> <i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span> </a> </li> <li> <a href="mailto:wiserfirst@gmail.com"> <meta itemprop="email" content="wiserfirst@gmail.com"> <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span> </a> </li> <li> <a href="https://twitter.com/wiserfirst" itemprop="sameAs" rel="nofollow noopener noreferrer"> <i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span> </a> </li> <li> <a href="https://www.linkedin.com/in/wiserfirst" itemprop="sameAs" rel="nofollow noopener noreferrer"> <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span> </a> </li> <li> <a href="https://github.com/wiserfirst" itemprop="sameAs" rel="nofollow noopener noreferrer"> <i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span> </a> </li> </ul> </div> </div> </div> <article class="page" itemscope itemtype="https://schema.org/CreativeWork"> <meta itemprop="headline" content="How to Use asdf Version Manager on macOS"> <meta itemprop="description" content="Discover a fantastic version manager for programming languages"> <meta itemprop="datePublished" content="2021-05-15T19:35:00+10:00"> <meta itemprop="dateModified" content="2021-05-17T21:23:00+10:00"> <div class="page__inner-wrap"> <section class="page__content" itemprop="text"> <p>Last year, I wrote a post titled <a href="/blog/install-java-with-asdf/">Install Java with asdf</a> and slightly surprising to me, it ended up becoming the most visited article on my personal blog. Given that, I decided to write another more complete guide to asdf. Even though this guide is meant for macOS, most things covered here should apply to Linux systems too, potentially with some minor tweaks.</p> <h2 id="why-asdf">Why asdf</h2> <p>Before we begin, let’s talk about why we might need it in the first place.</p> <p>Say you work as a developer for a company and their tech stack is backend Ruby on Rails and frontend React. There are quite a number of repositories for different services and unsurprisingly not all of them use the same versions of Ruby or Node.js.</p> <p>To manage the different versions of Ruby, <a href="https://github.com/rbenv/rbenv">rbenv</a> is a good tool and for Node.js, you have <a href="https://github.com/nvm-sh/nvm">nvm</a>. Then Python is introduced for some machine learning related tasks, so here comes <a href="https://github.com/pyenv/pyenv">pyenv</a>.</p> <p>Three tools to manage versions for three programming languages doesn’t sound too bad, but they all have slightly different command syntax for you to remember and use from time to time. The situation only gets worse with more languages introduced to the mix. For example, what if you want to build a side project with Elixir/Phoenix or learn some Rust.</p> <p>One version manager for each programming language is still okay for three languages, but once the number reaches five or six, it becomes too much effort.</p> <h3 id="asdf-to-the-rescue">asdf to the rescue</h3> <p>Luckily there is asdf and you can replace <code class="language-plaintext highlighter-rouge">rbenv</code>, <code class="language-plaintext highlighter-rouge">nvm</code>, <code class="language-plaintext highlighter-rouge">pyenv</code> and more with just this one tool.</p> <p>Thanks to its plugin system, asdf is extendable enough for you to install and manage versions of almost all programming languages that you might want to use. And with asdf you only need to learn one set of simple commands to do that.</p> <p>Furthermore, if you’d like to manage something and there isn’t yet a plugin for it, it’s possible to <a href="https://asdf-vm.com/#/plugins-create">create a plugin</a> yourself.</p> <p>With a relatively small core and the powerful plugin system, asdf offers nearly infinite possibilities.</p> <h2 id="install-asdf">Install asdf</h2> <p>First make sure that <code class="language-plaintext highlighter-rouge">coreutils</code>, <code class="language-plaintext highlighter-rouge">curl</code> and <code class="language-plaintext highlighter-rouge">git</code> are installed:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>coreutils curl git
</code></pre></div></div> <h3 id="install-with-git">Install with Git</h3> <p>Personally I prefer installing asdf with Git, because it gives complete control and avoids some pitfalls.</p> <p>Cloning the latest tag is enough:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/asdf-vm/asdf.git ~/.asdf <span class="nt">--branch</span> v0.8.0
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">v0.8.0</code> is the latest tag as of May 2021, but obviously that would change over time, so make sure to check its <a href="https://github.com/asdf-vm/asdf/tags">Github repository</a> for that before you install.</p> <p>Then for Zsh add the following to the bottom of <code class="language-plaintext highlighter-rouge">~/.zshrc</code>:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span> <span class="nv">$HOME</span>/.asdf/asdf.sh
</code></pre></div></div> <p>Open a new terminal tab and you should be ready to use asdf <img class="emoji" title=":tada:" alt=":tada:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" height="20" width="20"></p> <h3 id="install-with-homebrew">Install with Homebrew</h3> <p>The alternative is to install asdf with Homebrew:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>asdf
</code></pre></div></div> <p>If you prefer this method, before continuing, do check out <a href="https://github.com/asdf-vm/asdf/issues/785">Common Homebrew issues</a> to be aware of potential issues you might run into.</p> <p>And add the following line to the bottom of your <code class="language-plaintext highlighter-rouge">~/.zshrc</code>:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span> <span class="si">$(</span>brew <span class="nt">--prefix</span> asdf<span class="si">)</span>/asdf.sh
</code></pre></div></div> <blockquote> <p>If you use Bash or Fish shell, please refer to the <a href="https://asdf-vm.com/#/core-manage-asdf?id=add-to-your-shell">Add to your Shell</a> section in asdf documentation for instructions.</p> </blockquote> <h2 id="manage-plugins">Manage Plugins</h2> <p>Before you could install Ruby, Node.js or anything else, you’ll need to add the appropriate plugins. Plugins are how asdf understands handling of different programming languages or, say, packages.</p> <p>There is an <a href="https://asdf-vm.com/#/plugins-all">asdf plugins repository</a> and for all the plugins listed there, you can add with just the plugin name. For example, here is how to add the plugins for Ruby and Node.js:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>asdf plugin add ruby
asdf plugin add nodejs
</code></pre></div></div> <p>If the plugin you want is not part of this repository, you can still add it with its repository URL. For example:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>asdf plugin-add elm https://github.com/vic/asdf-elm
</code></pre></div></div> <p>You can list installed plugins with:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>asdf plugin list
</code></pre></div></div> <p>Or list all available plugins from the asdf plugin repository:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>asdf plugin list-all
</code></pre></div></div> <h2 id="manage-language-versions">Manage Language Versions</h2> <p>If you’ve looked through the asdf plugin repository, you may have noticed that there are plugins not only for programming languages, but also for many other cli tools like <code class="language-plaintext highlighter-rouge">fzf</code>, <code class="language-plaintext highlighter-rouge">minikube</code> etc.</p> <p>For the purpose of our discussion here, whether it’s a programming language or something else doesn’t really matter, because the commands for managing them are going to be the same. I’ll just refer to them as programming languages in this post, but please keep in mind that you could use asdf to manage other cli tools as well.</p> <h3 id="install-versions">Install Versions</h3> <p>Suppose we want to install the latest stable release of Ruby 2 and the latest LTS release of Node.js, which are <code class="language-plaintext highlighter-rouge">2.7.2</code> and <code class="language-plaintext highlighter-rouge">14.16.1</code> respectively as of this writing. We can simply run the following:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>asdf <span class="nb">install </span>ruby 2.7.2
asdf <span class="nb">install </span>nodejs 14.16.1
</code></pre></div></div> <blockquote> <p>When you run into issues trying to install a particular language version, make sure to check out the Github repository for the plugin. It’s very likely that you’ll find instructions on how to solve those issues.</p> </blockquote> <h3 id="set-global-versions">Set Global Versions</h3> <p>After installing the first versions, you might also want to set them as global versions for Ruby and Node.js:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>asdf global ruby 2.7.2
asdf global nodejs 14.16.1
</code></pre></div></div> <p>With this, we’ve made Ruby <code class="language-plaintext highlighter-rouge">2.7.2</code> and Node.js <code class="language-plaintext highlighter-rouge">14.16.1</code> “globally” available for the current user.</p> <p>In asdf terms, “global” means default everywhere. So unless it’s overridden with either a local or shell version, which are covered in the following sections, asdf will assume the global version is the one to use.</p> <h3 id="set-local-versions-optional">Set Local Versions (Optional)</h3> <p>Suppose we have a legacy project that we need to maintain and it only runs on Node.js 10. What we can do with asdf is to install Node.js 10 and set a local version in the project directory:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>asdf <span class="nb">install </span>nodejs 10.22.0
<span class="c"># run in the project directory</span>
asdf <span class="nb">local </span>nodejs 10.22.0
</code></pre></div></div> <p>With this local version set, when you are in the legacy project directory or its subdirectories, asdf will automatically switch to Node.js version <code class="language-plaintext highlighter-rouge">10.22</code>; when you are in any other directories, it’ll fallback to the global Node.js version, unless of course if there is another local Node.js version set.</p> <h3 id="set-shell-version-optional">Set Shell Version (Optional)</h3> <p>I had a fairly interesting situation at work recently. On this project, the backend server and frontend client each lives in a subdirectory in the same repository and we are in the process of developing a new client app to replace the old one.</p> <p>Normally I just run the server and new client, both of which run on Node.js 14. This time I needed to run the old client to confirm some behaviours on a page, but it requires Node.js 10.</p> <p>In order to run the old client together with the server, I made another copy of the whole project, set a local Node.js version to <code class="language-plaintext highlighter-rouge">10.22.0</code> in the new directory and run the old client. For the server, since the local Node.js version is already set to <code class="language-plaintext highlighter-rouge">14.16.1</code> in the original project directory, I could still start it in as normal.</p> <p>That certainly worked fine for me. But later I learned that there is a much simpler way: to use an asdf shell version. Without making an extra copy of the project, I could simply start a new shell session in the project directory and set a shell version for Node.js by:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>path/to/project
asdf shell nodejs 10.22.0
<span class="c"># run old client</span>
</code></pre></div></div> <p>This shell version only affects the current shell session, nothing else.</p> <p>As for the server, just run it in another shell session would do.</p> <h3 id="quick-recap">Quick Recap</h3> <p>So basically asdf allows you to select different versions of programming languages on a per directory basis, and on top of that you have the option to set a shell version which only affects the current shell session.</p> <p>I think that should be flexible enough for anyone to cope with most of (if not all) the situations they’ll ever encounter.</p> <h2 id="under-the-hood">Under the Hood</h2> <div style="margin: auto; text-align: center; width: 100%;"> <figure style="display: block"> <img src="/assets/images/2021-05-15/underhood_1024_540.jpg" alt="Mustang car with open hood"> <figcaption style="text-align: center;"> Blue Mustang Coupe with Hood Open by <a href="https://unsplash.com/@aliivan">Alison Ivansek</a> from <a href="https://unsplash.com/photos/HAI-GVIEvSQ">Unsplash</a> </figcaption> </figure> </div> <p>To someone who’s new that might sound like magic, but in fact how asdf works is actually quite straightforward.</p> <h3 id="global-versions">Global Versions</h3> <p>When you set a global version for a programming language, it’ll add or update a line for the language in a <code class="language-plaintext highlighter-rouge">.tool-versions</code> file under the current user’s home directory. If the file doesn’t already exist, it’ll create it first and then add the new line.</p> <p>If you’ve followed this post to install asdf, install Ruby and Node.js, and then set the global versions, your <code class="language-plaintext highlighter-rouge">.tool-versions</code> file in home directory should look like the following:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># cat ~/.tool-versions</span>
nodejs 14.16.1
ruby 2.7.2
</code></pre></div></div> <h3 id="local-versions">Local Versions</h3> <p>When you set a local version in a directory, asdf will add or update a line for the language in a <code class="language-plaintext highlighter-rouge">.tool-versions</code> file under that directory. Same as the global <code class="language-plaintext highlighter-rouge">.tool-versions</code> file, it’ll be created if not exist already.</p> <p>Say you do have that legacy project where Node.js <code class="language-plaintext highlighter-rouge">10.22</code> is required and therefore you’ve set a local version for Node.js in the project directory. The <code class="language-plaintext highlighter-rouge">.tool-versions</code> file under the project directory should look like this:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># cd path/to/project</span>
<span class="c"># cat ~/.tool-versions</span>
nodejs 10.22.0
</code></pre></div></div> <p>If you’re working on a personal project or your team has adopted asdf, it would be a very good idea to commit the <code class="language-plaintext highlighter-rouge">.tool-version</code> file to Git or the version control system you use.</p> <p>On the other hand, if your team hasn’t reached an agreement on adopting asdf, I’d recommend adding it to <code class="language-plaintext highlighter-rouge">.gitignore</code> and keeping it locally without committing to version control. The <a href="/blog/how-to-use-asdf-on-macos/#migrate-from-legacy-tools">Migrate from Legacy Tools</a> section might offer more useful information, if you found yourself in situations like this.</p> <h3 id="shell-versions">Shell Versions</h3> <p>How shell versions work is even simpler in my opinion. When you set one, asdf will set an environment variable <code class="language-plaintext highlighter-rouge">ASDF_${LANG}_VERSION</code> for the current session.</p> <p>For example, when I set a shell version for Node.js to <code class="language-plaintext highlighter-rouge">10.22.0</code>, asdf creates an environment variable named <code class="language-plaintext highlighter-rouge">ASDF_NODEJS_VERSION</code> with value <code class="language-plaintext highlighter-rouge">10.22.0</code> in my shell session.</p> <p>Given that’s how it works, setting the environment variable for a particular language directly in a shell session or even for just one command would work too.</p> <p>The following example starts the Rails server with Ruby version <code class="language-plaintext highlighter-rouge">2.5.3</code>:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">ASDF_RUBY_VERSION</span><span class="o">=</span>2.5.3 bundle <span class="nb">exec </span>rails server
</code></pre></div></div> <h3 id="current-versions">Current Versions</h3> <p>When you run <code class="language-plaintext highlighter-rouge">node</code> for example, asdf will look for a <code class="language-plaintext highlighter-rouge">.tool-versions</code> file in the current directory, then the parent directory, then parent’s parent directory etc. If it does find one and a local Node.js version is specified, it’ll use that version. In the case it couldn’t find one, it’ll fallback to the global version set in the <code class="language-plaintext highlighter-rouge">.tool-versions</code> file under the current user’s home directory. So the logic is quite straightforward.</p> <p>You could run <code class="language-plaintext highlighter-rouge">asdf current</code> to get a list of current versions of installed programming languages in the current directory. For example, say we are in the legacy project directory, where a local Node.js version is set, but no Ruby version is set. What you get should be something like this:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># asdf current</span>
nodejs          10.22.0         /Users/username/workspace/legacy-project/.tool-versions
ruby            2.7.2           /Users/username/.tool-versions
</code></pre></div></div> <p>Whereas if you run it in another directory, assuming no local versions are set, what you get is slightly different:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># asdf current</span>
nodejs          14.16.1         /Users/username/.tool-versions
ruby            2.7.2           /Users/username/.tool-versions
</code></pre></div></div> <p>As you can see, in the output, it not only tells you what the current versions are, but also shows from which <code class="language-plaintext highlighter-rouge">.tool-versions</code> file asdf got each version.</p> <p>I reckon this command could come in handy when you try to figure out where a particular local version is set.</p> <h2 id="use-asdf-in-a-team">Use asdf in a Team</h2> <p>Coming back to the scenario mentioned at the beginning of this article, where you work for a company which uses Ruby on Rails for backend and React for frontend and different projects might have different language version requirements.</p> <p>After introducing asdf you no longer have to deal with different tools for managing versions of different programming languages, which is great. But obviously when starting to work on a different project for the first time, everyone still need to get the correct local versions installed.</p> <p>What I used to do is to check out what are the versions specified in the <code class="language-plaintext highlighter-rouge">.tool-versions</code> file of the project and then manually install them. For example, if the file has</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nodejs 10.22.0
ruby 2.5.3
</code></pre></div></div> <p>Running the following should do it:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>asdf <span class="nb">install </span>nodejs 10.22.0
asdf <span class="nb">install </span>ruby 2.5.3
</code></pre></div></div> <p>But this feels slightly tedious and it is.</p> <p>Luckily as it turns out there is a much better way: running <code class="language-plaintext highlighter-rouge">asdf install</code> without any arguments. If a required version is not installed yet, asdf will go ahead and install it; if a version is already installed, it will tell you that and does nothing.</p> <p>I think this is a rather neat trick for installing the specified local versions for a project, therefore it makes this aspect of onboarding new team members to a project pretty much painless.</p> <h2 id="migrate-from-legacy-tools">Migrate from Legacy Tools</h2> <p>If you are sold on asdf but for whatever reason can’t adopt it at work, there is a configuration option that could allow you to still use it.</p> <p>What you need to do is to create a <code class="language-plaintext highlighter-rouge">.asdfrc</code> file in your home directory with the following content:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>legacy_version_file <span class="o">=</span> <span class="nb">yes</span>
</code></pre></div></div> <p>Setting this to <code class="language-plaintext highlighter-rouge">yes</code> will cause asdf plugins to read “legacy” version files, for example <code class="language-plaintext highlighter-rouge">.ruby-versions</code> for Ruby and <code class="language-plaintext highlighter-rouge">.nvmrc</code> or <code class="language-plaintext highlighter-rouge">.node-versions</code> for Node.js.</p> <p>This is especially helpful when you are in a team where your teammates don’t want to change to a different tool for managing the programming languages. Change is hard even when there are obviously benefits, so expect resistance if people are not already familiar with asdf.</p> <p>With this setting though, they can continue to use the legacy tools they prefer, but you would have the option to use asdf if you want.</p> <blockquote> <p>Note: not all plugins support this feature. If you rely on this behaviour, please do check the documentation of the plugins you use.</p> </blockquote> <p>Hopefully one day they’ll start noticing conveniences of asdf and change their minds, at which point the whole team could fully adopt asdf and enjoy the benefits it brings.</p> <h2 id="summary">Summary</h2> <p>In this post, I covered:</p> <ul> <li>how to install asdf</li> <li>how to add plugins</li> <li>how to manage versions</li> <li>how versions work under the hood</li> <li>how asdf fits in a team setting</li> <li>how to use asdf with legacy tools</li> </ul> <p>While there are definitely aspects of asdf that I didn’t cover, this should be a solid starting point for someone new. After reading this post and following along, you should be able to start using asdf with confidence. If you do run into issues, check out <a href="https://asdf-vm.com/#/core-manage-asdf">asdf documentation</a> and Google is your friend.</p> <p>With asdf, one could manage different versions of all the programming languages that they might need without any trouble, and also it makes sharing a common set of programming language versions across a team for a project very easy.</p> <p>Because of the conveniences it offers, I’m a big fan of asdf and I truly believe that every developer should use it or at least know it as a potential option to consider.</p> </section> <footer class="page__meta"> <p class="page__taxonomy"> <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong> <span itemprop="keywords"> <a href="/tags/asdf" class="page__taxonomy-item" rel="tag">asdf</a><span class="sep">, </span> <a href="/tags/macos" class="page__taxonomy-item" rel="tag">macos</a><span class="sep">, </span> <a href="/tags/nodejs" class="page__taxonomy-item" rel="tag">nodejs</a><span class="sep">, </span> <a href="/tags/python" class="page__taxonomy-item" rel="tag">python</a><span class="sep">, </span> <a href="/tags/ruby" class="page__taxonomy-item" rel="tag">ruby</a><span class="sep">, </span> <a href="/tags/version-manager" class="page__taxonomy-item" rel="tag">version-manager</a> </span> </p> <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-05-17">May 17, 2021</time></p> </footer> <section class="page__share"> <a href="https://twitter.com/intent/tweet?via=wiserfirst&amp;text=How+to+Use+asdf+Version+Manager+on+macOS%20https%3A%2F%2Fwww.wiserfirst.com%2Fblog%2Fhow-to-use-asdf-on-macos%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.wiserfirst.com%2Fblog%2Fhow-to-use-asdf-on-macos%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.wiserfirst.com%2Fblog%2Fhow-to-use-asdf-on-macos%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a> </section> <nav class="pagination"> <a href="/blog/converting-mov-to-mp4-ffmpeg/" class="pagination--pager" title="Converting mov/avi to mp4 with ffmpeg ">Previous</a> <a href="#" class="pagination--pager disabled">Next</a> </nav> </div> <div class="page__comments"> <h4 class="page__comments-title">Comments</h4> <section id="disqus_thread"></section> </div> </article> <div class="page__related"> <h4 class="page__related-title">You May Also Enjoy</h4> <div class="grid__wrapper"> <div class="grid__item"> <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"> <div class="archive__item-teaser"> <img src="/assets/images/2021-05-16/hobbit_1440_420.jpg" alt="Hobbiton Movie Set"> </div> <h2 class="archive__item-title no_toc" itemprop="headline"> <a href="/blog/converting-mov-to-mp4-ffmpeg/" rel="permalink">Converting mov/avi to mp4 with ffmpeg </a> </h2> <p class="page__meta"> <span class="page__meta-date"> <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2021-04-02T12:50:00+11:00">April 2, 2021</time> </span> <span class="page__meta-sep"></span> <span class="page__meta-readtime"> <i class="far fa-fw fa-clock" aria-hidden="true"></i> 1 minute read </span> </p> <p class="archive__item-excerpt" itemprop="description">Explore a great cli tool for converting between video formats </p> </article> </div> <div class="grid__item"> <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"> <div class="archive__item-teaser"> <img src="/assets/images/2021-05-16/vim_1440_400.jpg" alt="Coding with Vim"> </div> <h2 class="archive__item-title no_toc" itemprop="headline"> <a href="/blog/vim-tip-snipmate-legacy-parser-warning/" rel="permalink">Vim Tip: Fix Legacy Parser Warning for snipMate </a> </h2> <p class="page__meta"> <span class="page__meta-date"> <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2021-03-13T10:40:00+11:00">March 13, 2021</time> </span> <span class="page__meta-sep"></span> <span class="page__meta-readtime"> <i class="far fa-fw fa-clock" aria-hidden="true"></i> 1 minute read </span> </p> <p class="archive__item-excerpt" itemprop="description">A quick tip for resolving a warning message from snipMate </p> </article> </div> <div class="grid__item"> <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"> <div class="archive__item-teaser"> <img src="/assets/images/2021-05-16/git_1440_480.jpg" alt="A Git GUI client"> </div> <h2 class="archive__item-title no_toc" itemprop="headline"> <a href="/blog/git-tip-prune-stale-remote-references/" rel="permalink">Git Tip: Prune Stale Remote References </a> </h2> <p class="page__meta"> <span class="page__meta-date"> <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2020-10-31T19:20:00+11:00">October 31, 2020</time> </span> <span class="page__meta-sep"></span> <span class="page__meta-readtime"> <i class="far fa-fw fa-clock" aria-hidden="true"></i> 1 minute read </span> </p> <p class="archive__item-excerpt" itemprop="description">A Git tip that I didn’t know before and I find it very useful at times </p> </article> </div> <div class="grid__item"> <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"> <div class="archive__item-teaser"> <img src="/assets/images/2021-05-16/typewriter_1440_480.jpg" alt="Typewriter on Wooden Table"> </div> <h2 class="archive__item-title no_toc" itemprop="headline"> <a href="/blog/migrating-blog-to-jekyll/" rel="permalink">Migrating Blog to Jekyll </a> </h2> <p class="page__meta"> <span class="page__meta-date"> <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> <time datetime="2020-10-26T16:31:00+11:00">October 26, 2020</time> </span> <span class="page__meta-sep"></span> <span class="page__meta-readtime"> <i class="far fa-fw fa-clock" aria-hidden="true"></i> 6 minute read </span> </p> <p class="archive__item-excerpt" itemprop="description">Phases of my ten-year blogging journey and how it landed back on Jekyll </p> </article> </div> </div> </div> </div> </div> <div class="search-content"> <div class="search-content__inner-wrap"> <form class="search-content__form" onkeydown="return event.key != 'Enter';"> <label class="sr-only" for="search"> Enter your search term... </label> <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..."> </form> <div id="results" class="results"></div> </div> </div> <div id="footer" class="page__footer"> <footer> <div class="page__footer-follow"> <ul class="social-icons"> <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li> </ul> </div> <div class="page__footer-copyright">© 2021 Qing Wu. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div> </footer> </div> <script src="/assets/js/main.min.js"></script> <script src="/assets/js/lunr/lunr.min.js"></script> <script src="/assets/js/lunr/lunr-store.js"></script> <script src="/assets/js/lunr/lunr-en.js"></script> <script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-174550807-1"]),_gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();</script> <script>var disqus_config=function(){this.page.url="https://www.wiserfirst.com/blog/how-to-use-asdf-on-macos/",this.page.identifier="/blog/how-to-use-asdf-on-macos"};!function(){var t=document,s=t.createElement("script");s.src="https://wiserfirst.disqus.com/embed.js",s.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(s)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript> </body> </html>